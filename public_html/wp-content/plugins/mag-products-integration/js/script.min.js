jQuery(document).ready(function(a){a("#verify-magento-module").on("click",function(b){b.preventDefault();a(this).append('<div class="spinner" style="margin: 0 0 0 10px; float: inherit; visibility: visible;"></div>');var c={action:"verify_magento_module_installation"};jQuery.post(ajax_object.ajax_url,c,function(d){if(!d.installed){a(".error.notice.unable").remove();a("#verify-magento-module .spinner").remove();a(".wrap > h2").after('<div class="error notice unable"><p>'+d.message+"</p></div>")}else{var e='<div class="updated notice"><p>'+d.message+"</p></div>";c={action:"get_available_stores",referer:jQuery("#verify-magento-module").closest("form").find('input[name="_wp_http_referer"]').val()};jQuery.post(ajax_object.ajax_url,c,function(f){a(".spinner").hide();a("#wpbody-content > .wrap").html(f.html);a(".wrap > h2").after(e)})}})});a("body").on("click",'input[name="mag_products_integration_cache_enabled"]',function(){if(a(this).is(":checked")){a(".cache-lifetime").show()}else{a(".cache-lifetime").hide()}});a("#dismiss-module-notice").on("click",function(b){b.preventDefault();var c={action:"dismiss_module_notice"};a(this).closest(".notice-dismiss").trigger("click");jQuery.post(ajax_object.ajax_url,c,function(d){})});a('input[name="flush-cache"]').on("click",function(b){b.preventDefault();a("p.submit").append('<div class="spinner" style="margin: 0 0 0 5px; float: inherit; visibility: visible;padding-bottom: 4px;"></div>');var c={action:"flush_cache"};jQuery.post(ajax_object.ajax_url,c,function(d){a(".spinner").hide();a(".notice.flush-cache").remove();var f='<div class="updated notice flush-cache"><p>'+d.message+"</p></div>";var e=false;a("body, html").animate({scrollTop:0},200,function(){if(!e){a(".wrap > h2").after(f);e=true}})})})});